{
  "npcs": [
    {
      "id": "base1.john",
      "name": "John the Merchant",
      "description": "A merchant who needs your help gathering supplies",
      "options": [
        {
          "text": "What do you need?",
          "condition": "mission.gather_supplies != unlocked",
          "entryNode": "a1b2c3d4-e5f6-4a7b-8c9d-0e1f2a3b4c5d"
        },
        {
          "text": "How are you doing with those supplies?",
          "condition": "",
          "entryNode": "b2c3d4e5-f6a7-4b8c-9d0e-1f2a3b4c5d6e"
        },
        {
          "text": "Submit Mission: Gather Supplies",
          "condition": "mission.gather_supplies = unlocked AND mission.gather_supplies != completed",
          "entryNode": "c3d4e5f6-a7b8-4c9d-0e1f-2a3b4c5d6e7f"
        }
              ],
      "nodes": [
                {
          "id": "a1b2c3d4-e5f6-4a7b-8c9d-0e1f2a3b4c5d",
          "name": "Greeting Dialog",
          "type": "dialog",
          "texts": [
            "I need to gather supplies for my business. Can you help me?",
            "New yeah"
          ],
          "next": "d4e5f6a7-b8c9-4d0e-1f2a-3b4c5d6e7f8a"
        },
        {
          "id": "d4e5f6a7-b8c9-4d0e-1f2a-3b4c5d6e7f8a",
          "name": "Ask for Help",
          "type": "options",
          "options": [
            {
              "text": "I'll help you out",
              "entryNode": null
            },
            {
              "text": "Maybe later",
              "entryNode": "a7b8c9d0-e1f2-4a3b-4c5d-6e7f8a9b0c1d"
            }
          ]
        },
        {
          "id": "e5f6a7b8-c9d0-4e1f-2a3b-4c5d6e7f8a9b",
          "name": "Accept Quest Commands",
          "type": "commands",
                  "actions": [
                    "var.set key=john_relationship value=friendly",
                    "mission.unlock quest=gather_supplies",
                    "event.emit type=MISSION_UNLOCKED quest=gather_supplies source=john"
          ]
        },
        {
          "id": "f6a7b8c9-d0e1-4f2a-3b4c-5d6e7f8a9b0c",
          "name": "Accept Response",
          "type": "dialog",
          "texts": [
            "Excellent! I need food, water, and tools."
                  ]
                },
                {
          "id": "a7b8c9d0-e1f2-4a3b-4c5d-6e7f8a9b0c1d",
          "name": "Decline Commands",
          "type": "commands",
                  "actions": [
                    "var.set key=john_relationship value=neutral"
                  ],
          "next": "b8c9d0e1-f2a3-4b4c-5d6e-7f8a9b0c1d2e"
        },
        {
          "id": "b8c9d0e1-f2a3-4b4c-5d6e-7f8a9b0c1d2e",
          "name": "Decline Response",
          "type": "dialog",
          "texts": [
            "Suit yourself. I'll ask someone else."
          ]
        },
        {
          "id": "b2c3d4e5-f6a7-4b8c-9d0e-1f2a3b4c5d6e",
          "name": "Progress Options",
          "type": "options",
          "options": [
                {
              "text": "I have some items",
              "entryNode": "c9d0e1f2-a3b4-4c5d-6e7f-8a9b0c1d2e3f"
                },
                {
              "text": "Still working on it",
              "entryNode": "e1f2a3b4-c5d6-4e7f-8a9b-0c1d2e3f4a5b"
            }
          ]
        },
        {
          "id": "c9d0e1f2-a3b4-4c5d-6e7f-8a9b0c1d2e3f",
          "name": "Partial Progress Commands",
          "type": "commands",
          "actions": [
            "mission.progress quest=gather_supplies progress=50",
            "event.emit type=PROGRESS_UPDATED quest=gather_supplies progress=50"
              ],
          "next": "d0e1f2a3-b4c5-4d6e-7f8a-9b0c1d2e3f4a"
        },
        {
          "id": "d0e1f2a3-b4c5-4d6e-7f8a-9b0c1d2e3f4a",
          "name": "Partial Response",
          "type": "dialog",
          "texts": [
            "That's a start! Keep going."
          ]
        },
                {
          "id": "e1f2a3b4-c5d6-4e7f-8a9b-0c1d2e3f4a5b",
          "name": "Waiting Response",
          "type": "dialog",
          "texts": [
            "Don't take too long, will you?"
          ]
        },
        {
          "id": "c3d4e5f6-a7b8-4c9d-0e1f-2a3b4c5d6e7f",
          "name": "Submit Quest Commands",
          "type": "commands",
          "actions": [
            "mission.complete quest=gather_supplies",
            "var.set key=john_relationship value=trusted",
            "event.emit type=MISSION_COMPLETED quest=gather_supplies source=john"
                  ],
          "next": "f2a3b4c5-d6e7-4f8a-9b0c-1d2e3f4a5b6c"
        },
        {
          "id": "f2a3b4c5-d6e7-4f8a-9b0c-1d2e3f4a5b6c",
          "name": "Quest Complete",
          "type": "dialog",
          "texts": [
            "You did it! Thank you so much! Here's your reward."
          ]
        }
      ]
    },
    {
      "id": "sarah",
      "name": "Sarah the Guard",
      "description": "A town guard who maintains order and security",
      "options": [
        {
          "text": "Hello there!",
          "condition": "",
          "entryNode": "a5b6c7d8-e9f0-4a1b-2c3d-4e5f6a7b8c9d"
        }
      ],
      "nodes": [
        {
          "id": "a5b6c7d8-e9f0-4a1b-2c3d-4e5f6a7b8c9d",
          "name": "Greeting",
          "type": "dialog",
          "texts": [
            "Welcome to town. What brings you here?"
              ],
          "next": "b6c7d8e9-f0a1-4b2c-3d4e-5f6a7b8c9d0e"
        },
        {
          "id": "b6c7d8e9-f0a1-4b2c-3d4e-5f6a7b8c9d0e",
          "name": "Response Options",
          "type": "options",
          "options": [
                {
                  "text": "Just passing through",
              "entryNode": "c7d8e9f0-a1b2-4c3d-4e5f-6a7b8c9d0e1f"
            },
                    {
              "text": "Looking for work",
              "entryNode": "d8e9f0a1-b2c3-4d4e-5f6a-7b8c9d0e1f2a"
                    }
                  ]
                },
                {
          "id": "c7d8e9f0-a1b2-4c3d-4e5f-6a7b8c9d0e1f",
          "name": "Passing Through",
          "type": "dialog",
          "texts": [
            "Safe travels, then."
          ]
        },
        {
          "id": "d8e9f0a1-b2c3-4d4e-5f6a-7b8c9d0e1f2a",
          "name": "Work Response",
          "type": "dialog",
          "texts": [
            "Try talking to the merchants. They always need help."
          ]
        }
      ]
    }
  ]
}
