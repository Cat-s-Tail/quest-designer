{
  "missions": [
    {
      "id": "collect_herbs",
      "name": "采集草药",
      "description": "为村庄药师收集10株草药",
      "category": "gathering",
      
      "canUnlock": "var.level >= 1",
      
      "conditions": {
        "and": [
          {
            "objective_id": "collect_herbs",
            "related_event": "ITEM_COLLECTED",
            "validate": "event.itemType == 'herb'",
            "count": 0,
            "requirement": 10,
            "description": "收集草药"
          }
        ]
      },
      
      "onEvent": ["@mission_evaluate_standard"]
    },
    
    {
      "id": "defeat_bandits",
      "name": "击败山贼",
      "description": "击杀20个山贼并摧毁他们的营地",
      "category": "combat",
      
      "canUnlock": "var.level >= 5",
      
      "conditions": {
        "and": [
          {
            "objective_id": "kill_bandits",
            "related_event": "ENEMY_KILLED",
            "validate": "event.enemyType == 'bandit'",
            "count": 0,
            "requirement": 20,
            "description": "击杀山贼"
          },
          {
            "objective_id": "destroy_camp",
            "related_event": "OBJECT_DESTROYED",
            "validate": "event.objectId == 'bandit_camp'",
            "count": 0,
            "requirement": 1,
            "description": "摧毁山贼营地"
          }
        ]
      },
      
      "onEvent": ["@mission_evaluate_standard"]
    },
    
    {
      "id": "survival_challenge",
      "name": "生存挑战",
      "description": "击杀20个敌人并收集5个补给箱，死亡会重置进度",
      "category": "challenge",
      
      "canUnlock": "var.level >= 10",
      
      "conditions": {
        "and": [
          {
            "objective_id": "kill_enemies",
            "related_event": "ENEMY_KILLED",
            "validate": "true",
            "count": 0,
            "requirement": 20,
            "description": "击杀敌人",
            "reset_on_death": true
          },
          {
            "objective_id": "collect_supplies",
            "related_event": "ITEM_COLLECTED",
            "validate": "event.itemType == 'supply_box'",
            "count": 0,
            "requirement": 5,
            "description": "收集补给箱",
            "reset_on_death": true
          }
        ]
      },
      
      "onEvent": [
        "@mission_reset_on_death",
        "@mission_evaluate_standard"
      ]
    }
  ]
}
